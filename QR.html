<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Train Ticket QR Code Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            box-sizing: border-box;
        }
        .form-row {
            display: flex;
            gap: 15px;
        }
        .form-row .form-group {
            flex: 1;
        }
        button {
            background: #007bff;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        button:hover {
            background: #0056b3;
        }
        .qr-container {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        #qrcode {
            margin: 20px auto;
        }
        .result-display {
            margin-top: 20px;
            padding: 20px;
            background: #1a1a1a;
            color: white;
            border-radius: 10px;
            font-family: monospace;
            font-size: 14px;
            line-height: 1.6;
        }
        .result-display h3 {
            color: #fff;
            margin-bottom: 15px;
        }
        .preset-buttons {
            margin-bottom: 20px;
            text-align: center;
        }
        .preset-btn {
            background: #28a745;
            margin: 5px;
        }
        .preset-btn:hover {
            background: #1e7e34;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸš† Train Ticket QR Code Generator</h1>
        
        <div class="preset-buttons">
            <button class="preset-btn" onclick="loadUpamnyuPreset()">Load UPMANYU Details</button>
            <button class="preset-btn" onclick="loadNikhilPreset()">Load NIKHIL Details</button>
            <button class="preset-btn" onclick="clearForm()">Clear Form</button>
        </div>

        <form id="ticketForm">
            <div class="form-row">
                <div class="form-group">
                    <label for="pnr">PNR Number:</label>
                    <input type="text" id="pnr" value="8135410114" required>
                </div>
                <div class="form-group">
                    <label for="txnId">Transaction ID:</label>
                    <input type="text" id="txnId" value="100005915967370" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="passengerName">Passenger Name:</label>
                    <input type="text" id="passengerName" value="UPMANYU" required>
                </div>
                <div class="form-group">
                    <label for="gender">Gender:</label>
                    <select id="gender" required>
                        <option value="M">Male (M)</option>
                        <option value="F">Female (F)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="age">Age:</label>
                    <input type="number" id="age" value="25" min="1" max="120" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="status">Status:</label>
                    <input type="text" id="status" value="CNFB1/46UB" required>
                </div>
                <div class="form-group">
                    <label for="quota">Quota:</label>
                    <select id="quota" required>
                        <option value="GENERAL (GN)">GENERAL (GN)</option>
                        <option value="TATKAL (TQ)">TATKAL (TQ)</option>
                        <option value="LADIES (LD)">LADIES (LD)</option>
                        <option value="SENIOR CITIZEN (SS)">SENIOR CITIZEN (SS)</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="trainNo">Train Number:</label>
                    <input type="text" id="trainNo" value="12548" required>
                </div>
                <div class="form-group">
                    <label for="trainName">Train Name:</label>
                    <input type="text" id="trainName" value="SBIB AGC SF EXP" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="departure">Scheduled Departure:</label>
                    <input type="datetime-local" id="departure" value="2025-08-03T16:55" required>
                </div>
                <div class="form-group">
                    <label for="journeyDate">Date of Journey:</label>
                    <input type="date" id="journeyDate" value="2025-08-03" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="from">From:</label>
                    <input type="text" id="from" value="SABARMATI BG - SBIB" required>
                </div>
                <div class="form-group">
                    <label for="to">To:</label>
                    <input type="text" id="to" value="AGRA CANTT - AGC" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="class">Class:</label>
                    <select id="class" required>
                        <option value="THIRD_AC (3A)">THIRD AC (3A)</option>
                        <option value="SLEEPER (SL)">SLEEPER (SL)</option>
                        <option value="SECOND_AC (2A)">SECOND AC (2A)</option>
                        <option value="FIRST_AC (1A)">FIRST AC (1A)</option>
                        <option value="AC_CHAIR (CC)">AC CHAIR CAR (CC)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fare">Ticket Fare:</label>
                    <input type="text" id="fare" value="Rs1250.0" required>
                </div>
            </div>

            <div class="form-group">
                <label for="irctcFee">IRCTC Fee:</label>
                <input type="text" id="irctcFee" value="Rs23.6+PG Charges Extra" required>
            </div>

            <button type="button" onclick="generateQR()">Generate QR Code</button>
        </form>

        <div class="qr-container" id="qrContainer" style="display: none;">
            <h3>ðŸŽ¯ Your Train Ticket QR Code</h3>
            <canvas id="qrcode"></canvas>
            <br>
            <button onclick="downloadQR()">Download QR Code</button>
            <button onclick="copyToClipboard()">Copy QR Data</button>
            
            <div class="result-display" id="resultDisplay"></div>
        </div>
    </div>

    <script>
        let qrData = '';

        function loadUpamnyuPreset() {
            document.getElementById('pnr').value = '8135410114';
            document.getElementById('txnId').value = '100005915967370';
            document.getElementById('passengerName').value = 'UPMANYU';
            document.getElementById('gender').value = 'M';
            document.getElementById('age').value = '25';
            document.getElementById('status').value = 'CNFB1/46UB';
            document.getElementById('quota').value = 'GENERAL (GN)';
            document.getElementById('trainNo').value = '12548';
            document.getElementById('trainName').value = 'SBIB AGC SF EXP';
            document.getElementById('departure').value = '2025-08-03T16:55';
            document.getElementById('journeyDate').value = '2025-08-03';
            document.getElementById('from').value = 'SABARMATI BG - SBIB';
            document.getElementById('to').value = 'AGRA CANTT - AGC';
            document.getElementById('class').value = 'THIRD_AC (3A)';
            document.getElementById('fare').value = 'Rs1250.0';
            document.getElementById('irctcFee').value = 'Rs23.6+PG Charges Extra';
        }

        function loadNikhilPreset() {
            document.getElementById('pnr').value = '2819209775';
            document.getElementById('txnId').value = '100005915914611';
            document.getElementById('passengerName').value = 'NIKHIL';
            document.getElementById('gender').value = 'M';
            document.getElementById('age').value = '23';
            document.getElementById('status').value = 'CNF/S3/64/SIDE UPPER';
            document.getElementById('quota').value = 'GENERAL (GN)';
            document.getElementById('trainNo').value = '12547';
            document.getElementById('trainName').value = 'AGC SBIB SF EXP';
            document.getElementById('departure').value = '2025-07-31T22:00';
            document.getElementById('journeyDate').value = '2025-07-31';
            document.getElementById('from').value = 'AGRA CANTT - AGC';
            document.getElementById('to').value = 'SABARMATI BG - SBIB';
            document.getElementById('class').value = 'SLEEPER (SL)';
            document.getElementById('fare').value = 'Rs480.0';
            document.getElementById('irctcFee').value = 'Rs11.8+PG Charges Extra';
        }

        function clearForm() {
            document.getElementById('ticketForm').reset();
        }

        function generateQR() {
            const formData = {
                pnr: document.getElementById('pnr').value,
                txnId: document.getElementById('txnId').value,
                passengerName: document.getElementById('passengerName').value,
                gender: document.getElementById('gender').value,
                age: document.getElementById('age').value,
                status: document.getElementById('status').value,
                quota: document.getElementById('quota').value,
                trainNo: document.getElementById('trainNo').value,
                trainName: document.getElementById('trainName').value,
                departure: document.getElementById('departure').value,
                journeyDate: document.getElementById('journeyDate').value,
                boardingStation: document.getElementById('from').value,
                destinationStation: document.getElementById('to').value,
                class: document.getElementById('class').value,
                fare: document.getElementById('fare').value,
                irctcFee: document.getElementById('irctcFee').value
            };

            // Format the QR data similar to the original
            qrData = `PNR No. :${formData.pnr}.
TXN ID :${formData.txnId}.
Passenger Name :${formData.passengerName}.
Gender :${formData.gender}.
Age :${formData.age}.
Status :${formData.status}.
Quota :${formData.quota}.
Train No. :${formData.trainNo}.
Train Name :${formData.trainName}.
Scheduled Departure :${formData.departure.replace('T', ' ')}.
Date Of Journey :${formData.journeyDate}.
Boarding Station :${formData.boardingStation}.
To :${formData.destinationStation}.
Class :${formData.class}.
From :${formData.boardingStation}.
To :${formData.destinationStation}.
Ticket Fare: ${formData.fare}.
IRCTC Fee: ${formData.irctcFee}.`;

            // Generate QR Code
            const qr = new QRious({
                element: document.getElementById('qrcode'),
                value: qrData,
                size: 300,
                background: 'white',
                foreground: 'black',
                level: 'M'
            });

            // Show result
            document.getElementById('qrContainer').style.display = 'block';
            
            // Display formatted result
            const resultDisplay = document.getElementById('resultDisplay');
            resultDisplay.innerHTML = `
                <h3>QR Code Details:</h3>
                <div style="text-align: left;">
                    PNR No. :${formData.pnr}.<br>
                    TXN ID :${formData.txnId}.<br>
                    Passenger Name :${formData.passengerName}.<br>
                    Gender :${formData.gender}.<br>
                    Age :${formData.age}.<br>
                    Status :${formData.status}.<br>
                    Quota :${formData.quota}.<br>
                    Train No. :${formData.trainNo}.<br>
                    Train Name :${formData.trainName}.<br>
                    Scheduled Departure :${formData.departure.replace('T', ' ')}.<br>
                    Date Of Journey :${formData.journeyDate}.<br>
                    Boarding Station :${formData.boardingStation}.<br>
                    Class :${formData.class}.<br>
                    From :${formData.boardingStation}.<br>
                    To :${formData.destinationStation}.<br>
                    Ticket Fare: ${formData.fare}.<br>
                    IRCTC Fee: ${formData.irctcFee}.
                </div>
            `;

            // Scroll to QR code
            document.getElementById('qrContainer').scrollIntoView({ behavior: 'smooth' });
        }

        function downloadQR() {
            const canvas = document.getElementById('qrcode');
            const link = document.createElement('a');
            link.download = 'train-ticket-qr.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        function copyToClipboard() {
            navigator.clipboard.writeText(qrData).then(() => {
                alert('QR data copied to clipboard!');
            });
        }

        // Load default preset on page load
        window.onload = function() {
            loadUpamnyuPreset();
        };
    </script>
</body>
</html>